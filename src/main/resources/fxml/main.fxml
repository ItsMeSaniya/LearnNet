<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.Insets?>
<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>

<BorderPane xmlns="http://javafx.com/javafx/17" xmlns:fx="http://javafx.com/fxml/1" 
            fx:controller="com.netQuiz.client.controller.MainController">
    
    <top>
        <VBox style="-fx-background-color: #2c3e50; -fx-padding: 15;">
            <Label text="NetQuiz Platform" 
                   style="-fx-text-fill: white; -fx-font-size: 24px; -fx-font-weight: bold;"/>
        </VBox>
    </top>
    
    <center>
        <TabPane tabClosingPolicy="UNAVAILABLE">
            
            <!-- Chat Tab -->
            <Tab text="ðŸ’¬ Chat">
                <VBox spacing="10">
                    <padding>
                        <Insets top="10" right="10" bottom="10" left="10"/>
                    </padding>
                    
                    <Label text="Real-Time Chat" style="-fx-font-size: 18px; -fx-font-weight: bold;"/>
                    
                    <TextArea fx:id="chatArea" editable="false" wrapText="true" 
                              VBox.vgrow="ALWAYS" style="-fx-font-family: 'Courier New';"/>
                    
                    <HBox spacing="10">
                        <TextField fx:id="chatMessageField" promptText="Type your message..." 
                                   HBox.hgrow="ALWAYS"/>
                        <Button fx:id="sendChatButton" text="Send" onAction="#handleSendChat" 
                                prefWidth="80" style="-fx-background-color: #3498db; -fx-text-fill: white;"/>
                    </HBox>
                </VBox>
            </Tab>
            
            <!-- Quiz Tab -->
            <Tab text="ðŸ“ Quizzes">
                <VBox spacing="10">
                    <padding>
                        <Insets top="10" right="10" bottom="10" left="10"/>
                    </padding>
                    
                    <Label text="Available Quizzes" style="-fx-font-size: 18px; -fx-font-weight: bold;"/>
                    
                    <HBox spacing="10" VBox.vgrow="ALWAYS">
                        <VBox spacing="10" prefWidth="300">
                            <Label text="Quiz List:"/>
                            <ListView fx:id="quizListView" VBox.vgrow="ALWAYS"/>
                            <Button fx:id="startQuizButton" text="Start Quiz" onAction="#handleStartQuiz" 
                                    style="-fx-background-color: #27ae60; -fx-text-fill: white;"/>
                        </VBox>
                        
                        <Separator orientation="VERTICAL"/>
                        
                        <ScrollPane HBox.hgrow="ALWAYS" fitToWidth="true">
                            <VBox fx:id="quizContentBox" spacing="10">
                                <padding>
                                    <Insets top="10" right="10" bottom="10" left="10"/>
                                </padding>
                                <Label text="Select a quiz from the list to begin" 
                                       style="-fx-text-fill: #7f8c8d; -fx-font-size: 14px;"/>
                            </VBox>
                        </ScrollPane>
                    </HBox>
                </VBox>
            </Tab>
            
            <!-- File Sharing Tab -->
            <Tab text="ðŸ“ Files">
                <VBox spacing="10">
                    <padding>
                        <Insets top="10" right="10" bottom="10" left="10"/>
                    </padding>
                    
                    <Label text="File Sharing" style="-fx-font-size: 18px; -fx-font-weight: bold;"/>
                    
                    <ListView fx:id="fileListView" VBox.vgrow="ALWAYS"/>
                    
                    <HBox spacing="10">
                        <Button fx:id="uploadButton" text="Upload File" onAction="#handleUploadFile" 
                                style="-fx-background-color: #3498db; -fx-text-fill: white;"/>
                        <Button fx:id="downloadButton" text="Download Selected" onAction="#handleDownloadFile" 
                                style="-fx-background-color: #27ae60; -fx-text-fill: white;"/>
                        <Button fx:id="refreshFilesButton" text="Refresh" onAction="#handleRefreshFiles" 
                                style="-fx-background-color: #95a5a6; -fx-text-fill: white;"/>
                    </HBox>
                </VBox>
            </Tab>
            
            <!-- Online Users Tab -->
            <Tab text="ðŸ‘¥ Users">
                <VBox spacing="10">
                    <padding>
                        <Insets top="10" right="10" bottom="10" left="10"/>
                    </padding>
                    
                    <Label text="Online Users" style="-fx-font-size: 18px; -fx-font-weight: bold;"/>
                    
                    <ListView fx:id="userListView" VBox.vgrow="ALWAYS"/>
                </VBox>
            </Tab>
            
            <!-- Notifications Tab -->
            <Tab text="ðŸ”” Notifications">
                <VBox spacing="10">
                    <padding>
                        <Insets top="10" right="10" bottom="10" left="10"/>
                    </padding>
                    
                    <Label text="System Notifications (UDP Broadcast)" 
                           style="-fx-font-size: 18px; -fx-font-weight: bold;"/>
                    
                    <TextArea fx:id="notificationArea" editable="false" wrapText="true" 
                              VBox.vgrow="ALWAYS" style="-fx-font-family: 'Courier New';"/>
                </VBox>
            </Tab>
            
        </TabPane>
    </center>
    
</BorderPane>
